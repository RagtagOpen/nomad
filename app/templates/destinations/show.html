{%- extends "_template.html" %}
{%- import "bootstrap/wtf.html" as wtf %}

{% block scripts %}
<script>
    // sanitized query from URL: q=12345
    let userQuery = '{{user_query}}';  // eslint-disable-line no-unused-vars
    let isDestinationPage = true;
    const userLatLon = {};
    {% if lat and lon %}
    userLatLon.lat = {{lat}};
    userLatLon.lng = {{lon}};
    {% endif %}
    const geoJSONUrl = "{{ url_for('carpool.start_geojson') }}"; // eslint-disable-line no-unused-vars
    const newCarpoolUrl = "{{ url_for('carpool.new', lat=loc_lat, lon=loc_lon) }}"; // eslint-disable-line no-unused-vars
    const userAuthenticated = "{{current_user.is_authenticated}}" === "True";
</script>
<script type="text/javascript" src="{{ url_for('static', filename='js/find.js') }}"></script>
{{super()}}
{% endblock %}

{% block site %}

<div class="content constrained">

    <div class="carpool-results">
        <h1 class="visible-lg-block">
            Find rides to {{destination.name}}
        </h1>
        <div id="search-results" class="results-box">
        </div>
    </div>

    <div class="carpool-map">
        <div id="background-map"></div>
    </div>

</div>

{% endblock %}
